# Configuration file for disassembling SSB64 NTSC-U
# All names need to be valid GAS symbols (doesn't start with number, ascii, no spaces)

---
# Does the game use the expansion pak, or not. This is used to find pointer in .data
expak: false

# Always loaded code that is never overlayed
static-code:
  #                                          BSS values are optional
  # [ romStart, romEnd, name,         vaddr,   bssStart,     bssEnd ]
  - [  0x1000, 0x406D0, system,  0x80000400, 0x8003fad0, 0x800a1970 ]
  - [ 0x406D0, 0x43220, loadovl, 0x800a1980, 0x800a44d0, 0x800a5240 ]

# Overlays that other overlays assume to be loaded; however, these can be overwriten
# by another loaded overlay.
# The overlay function itself loads these before doing anything else with the other overlays
base-overlays: 
  # [ romStart, romEnd,   name,       vaddr,   bssStart,     bssEnd ]
  - [ 0x43220,  0x51C90,  ovl0,  0x800C7840, 0x800D62B0, 0x800D6490 ]
  - [ 0x1079C0, 0x109FB0, ovl1,  0x803903E0, 0x803929D0, 0x80392A00 ]
  - [ 0x51C90,  0xAC540,  ovl2,  0x800D6490, 0x80130D40, 0x80131B00 ]

# Regular overlays that are shuffled in and out of memory
overlays:
  # [ romStart, romEnd,   name,       vaddr,   bssStart,     bssEnd ]
  - [ 0x00040,  0x001000, boot,  0xA4000040 ]
  - [ 0xAC540,  0x1079C0, ovl3,  0x80131B00, 0x8018CF80, 0x8018D0C0 ]
  - [ 0x109FB0, 0x10B370, ovl4,  0x8018D0C0, 0x8018E480, 0x8018E7E0 ]
  - [ 0x10B370, 0x10B920, ovl5,  0x8018D0C0, 0x8018D670, 0x8018D950 ]
  - [ 0x10B920, 0x111800, ovl65, 0x8018D0C0, 0x80192FA0, 0x80193900 ]
  - [ 0x111800, 0x1138E0, ovl6,  0x8018D0C0, 0x8018F1A0, 0x8018F710 ]
  - [ 0x1138E0, 0x117180, ovl7,  0x8018D0C0, 0x80190960, 0x80190FA0 ]
  - [ 0x18DCB0, 0x1AB6B0, ovl8,  0x80371460, 0x8038EE60, 0x803903E0 ]
  - [ 0x1AB6B0, 0x1AC870, ovl9,  0x80369240, 0x8036A400, 0x80371460 ]
  - [ 0x117180, 0x119AC0, ovl10, 0x80131B00, 0x80134440, 0x801345B0 ]
  - [ 0x119AC0, 0x119DF0, ovl11, 0x800D6490, 0x800D67C0, 0x800D6B30 ]
  - [ 0x119DF0, 0x11A340, ovl12, 0x800D6490, 0x800D69E0, 0x800D69F0 ]
  - [ 0x11A340, 0x11B970, ovl13, 0x80131B00, 0x80133130, 0x80133170 ]
  - [ 0x11B970, 0x11CA90, ovl14, 0x80131B00, 0x80132C20, 0x80133130 ]
  - [ 0x150740, 0x150CA0, ovl15, 0x800D6490, 0x800D69F0, 0x800D6A00 ]
  - [ 0x18D030, 0x18DCB0, ovl16, 0x800D6490, 0x800D7110, 0x800D7170 ]
  - [ 0x11CA90, 0x11DC10, ovl17, 0x80131B00, 0x80132C80, 0x80132D70 ]
  - [ 0x11DC10, 0x11F2B0, ovl18, 0x80131B00, 0x801331A0, 0x801332A0 ]
  - [ 0x1224B0, 0x1252E0, ovl19, 0x80131B00, 0x80134930, 0x80134A50 ]
  - [ 0x1252E0, 0x1280A0, ovl20, 0x80131B00, 0x801348C0, 0x801349E0 ]
  - [ 0x1280A0, 0x129970, ovl21, 0x80131B00, 0x801333D0, 0x80133540 ]
  - [ 0x129970, 0x12A4C0, ovl22, 0x80131B00, 0x80132650, 0x80132990 ]
  - [ 0x12A4C0, 0x12AE40, ovl23, 0x80131B00, 0x80132480, 0x80132800 ]
  - [ 0x12AE40, 0x12EF60, ovl24, 0x80131B00, 0x80135C20, 0x80136070 ]
  - [ 0x12EF60, 0x12FD80, ovl25, 0x80131B00, 0x80132920, 0x80132A40 ]
  - [ 0x12FD80, 0x139D00, ovl26, 0x80131B00, 0x8013BA80, 0x8013C4C0 ]
  - [ 0x139D00, 0x1410E0, ovl27, 0x80131B00, 0x80138EE0, 0x801396D0 ]
  - [ 0x1410E0, 0x147B30, ovl28, 0x80131B00, 0x80138550, 0x80138CC0 ]
  - [ 0x147B30, 0x14D670, ovl29, 0x80131B00, 0x80137640, 0x80137E30 ]
  - [ 0x14D670, 0x150740, ovl30, 0x80131B00, 0x80134BD0, 0x80134E30 ]
  - [ 0x150CA0, 0x158A40, ovl31, 0x80131B00, 0x801398A0, 0x8013A070 ]
  - [ 0x158A40, 0x15DB50, ovl32, 0x80131B00, 0x80136C10, 0x80136DA0 ]
  - [ 0x15DB50, 0x162640, ovl33, 0x80131B00, 0x801365F0, 0x80136A90 ]
  - [ 0x162640, 0x165810, ovl34, 0x80131B00, 0x80134CD0, 0x801350D0 ]
  - [ 0x165810, 0x1666F0, ovl35, 0x80131B00, 0x801329E0, 0x80132BC0 ]
  - [ 0x1666F0, 0x167830, ovl36, 0x8018D0C0, 0x8018E200, 0x8018E620 ]
  - [ 0x167830, 0x168930, ovl37, 0x8018D0C0, 0x8018E1C0, 0x8018E5E0 ]
  - [ 0x168930, 0x169AE0, ovl38, 0x8018D0C0, 0x8018E270, 0x8018E690 ]
  - [ 0x169AE0, 0x16AC10, ovl39, 0x8018D0C0, 0x8018E1F0, 0x8018E610 ]
  - [ 0x16AC10, 0x16BD10, ovl40, 0x8018D0C0, 0x8018E1C0, 0x8018E5E0 ]
  - [ 0x16BD10, 0x16CE70, ovl41, 0x8018D0C0, 0x8018E220, 0x8018E640 ]
  - [ 0x16CE70, 0x16DFD0, ovl42, 0x8018D0C0, 0x8018E220, 0x8018E640 ]
  - [ 0x16DFD0, 0x16F130, ovl43, 0x8018D0C0, 0x8018E220, 0x8018E640 ]
  - [ 0x16F130, 0x16FD40, ovl44, 0x80131B00, 0x80132710, 0x80132AB0 ]
  - [ 0x16FD40, 0x170660, ovl45, 0x80131B00, 0x80132420, 0x80132600 ]
  - [ 0x170660, 0x171320, ovl46, 0x80131B00, 0x801327C0, 0x801329A0 ]
  - [ 0x171320, 0x1721E0, ovl47, 0x80131B00, 0x801329C0, 0x80132BA0 ]
  - [ 0x1721E0, 0x172B60, ovl48, 0x80131B00, 0x80132480, 0x80132660 ]
  - [ 0x172B60, 0x173A30, ovl49, 0x80131B00, 0x801329D0, 0x80132D80 ]
  - [ 0x173A30, 0x174940, ovl50, 0x80131B00, 0x80132A10, 0x80132C10 ]
  - [ 0x174940, 0x1752C0, ovl51, 0x8018D0C0, 0x8018DA40, 0x8018DE60 ]
  - [ 0x1752C0, 0x175F00, ovl52, 0x80131B00, 0x80132740, 0x80132920 ]
  - [ 0x175F00, 0x1774A0, ovl53, 0x80131B00, 0x801330A0, 0x801331C0 ]
  - [ 0x1774A0, 0x178560, ovl54, 0x80131B00, 0x80132BC0, 0x80132F80 ]
  - [ 0x178560, 0x17AD50, ovl55, 0x80131B00, 0x801342F0, 0x80134540 ]
  - [ 0x17AD50, 0x17E510, ovl56, 0x80131B00, 0x801352C0, 0x801355B0 ]
  - [ 0x17E510, 0x17ECC0, ovl57, 0x80131B00, 0x801322B0, 0x80132300 ]
  - [ 0x17ECC0, 0x17F200, ovl58, 0x80131B00, 0x80132040, 0x80132080 ]
  - [ 0x17F200, 0x187ED0, ovl59, 0x80131B00, 0x8013A7D0, 0x8013AA60 ]
  - [ 0x11F2B0, 0x120F50, ovl60, 0x80131B00, 0x801337A0, 0x801338C0 ]
  - [ 0x120F50, 0x1224B0, ovl61, 0x80131B00, 0x80133060, 0x80133170 ]
  - [ 0x187ED0, 0x18A6D0, ovl62, 0x80131B00, 0x80134300, 0x80134480 ]
  - [ 0x18A6D0, 0x18BE00, ovl63, 0x8018D0C0, 0x8018E7F0, 0x8018EC00 ]
  - [ 0x18BE00, 0x18D030, ovl64, 0x8018D0C0, 0x8018E2F0, 0x8018E860 ]

# The game loads sets of overlays for a screen.
# This collection of sets can be used to help symbol resolution
overlay-sets: 
  # Set Name:         [overlay1, overlay2, ...]
  BootCode:           [ boot ]
  N64Logo:            [ ovl11 ]
  TitleScreen:        [ ovl2, ovl10, ovl8, ovl9 ]
  DebugStageSelect:   [ ovl12, ovl8, ovl9 ]
  DebugSystem:        [ ovl2, ovl13, ovl8, ovl9 ]
  DebugBattle:        [ ovl2, ovl1, ovl14, ovl8, ovl9 ]
  DebugFalls:         [ ovl15 ]
  DebugButtonTest:    [ ovl16 ]
  MainMenu:           [ ovl1, ovl17 ]
  Menu1PGame:         [ ovl1, ovl18 ]
  MenuVsGame:         [ ovl1, ovl19 ]
  VsOptions:          [ ovl1, ovl20 ]
  OvlSet11:           [ ovl1, ovl21 ]
  OvlSet12:           [ ovl2, ovl1, ovl22 ]
  OvlSet13:           [ ovl2, ovl1, ovl23 ]
  1PModeMap:          [ ovl2, ovl1, ovl24 ]
  ScreenAdjust:       [ ovl2, ovl1, ovl25 ]
  VsCharSelect:       [ ovl2, ovl1, ovl26 ]
  1PCharSelect:       [ ovl2, ovl1, ovl27 ]
  TrainingCharSelect: [ ovl2, ovl1, ovl28 ]
  BtTCharSelect:      [ ovl2, ovl1, ovl29 ]
  BtPCharSelect:      [ ovl2, ovl1, ovl29 ]
  StageSelect:        [ ovl1, ovl30 ]
  VsBattle:           [ ovl2, ovl3, ovl4 ]
  OvlSet23:           [ ovl2, ovl3, ovl1, ovl5 ]
  VsResults:          [ ovl2, ovl1, ovl31 ]
  VsRecord:           [ ovl1, ovl32 ]
  CharBkgInfo:        [ ovl2, ovl1, ovl33 ]
  OvlSet27:           [ ovl1, ovl58 ]
  IntroFirstScene:    [ ovl1, ovl34 ]
  IntroPortraits:     [ ovl35 ]
  IntroMario:         [ ovl3, ovl36 ]
  IntroDK:            [ ovl37 ]
  IntroSamus:         [ ovl38 ]
  IntroFox:           [ ovl39 ]
  IntroLink:          [ ovl40 ]
  IntroYoshi:         [ ovl41 ]
  IntroPikachu:       [ ovl42 ]
  IntroKirby:         [ ovl43 ]
  IntroCharsRun:      [ ovl44 ]
  IntroYoshiNest:     [ ovl45 ]
  IntroLinkHill:      [ ovl46 ]
  IntroMarioKirby:    [ ovl47 ]
  IntroPikaBall:      [ ovl48 ]
  IntroSexKicks:      [ ovl49 ]
  IntroGreatFox:      [ ovl50 ]
  IntroDKSamus:       [ ovl3, ovl51 ]
  IntroHiddenChars:   [ ovl52 ]
  MenuBackupClear:    [ ovl2, ovl1, ovl53 ]
  OvlSet48:           [ ovl2, ovl1, ovl54 ]
  OvlSet49:           [ ovl2, ovl1, ovl55 ]
  OvlSet50:           [ ovl2, ovl1, ovl56 ]
  OvlSet51:           [ ovl2, ovl1, ovl56 ] # same as OvlSet50
  OvlSet52:           [] # empty set
  BonusGamePlay:      [ ovl2, ovl3, ovl6 ]
  BattleTraining:     [ ovl2, ovl3, ovl7 ]
  OvlSet55:           [ ovl57 ]
  OvlSet56:           [ ovl59 ]
  MenuOptions:        [ ovl1, ovl60 ]
  MenuData:           [ ovl1, ovl61 ]
  OvlSet59:           [ ovl1, ovl62 ]
  HowToPlay:          [ ovl2, ovl3, ovl63 ]
  DemoBattle:         [ ovl2, ovl3, ovl64 ]
  OvlSet62:           [ ovl2, ovl3, ovl65 ]

# Global labels for functions based on vram address
labels:
  # [ vaddr, name, overlay (if in overlay) ]
  - [ 0x80030A18, __ull_div ]
  - [ 0x80030B18, __ll_mul ]
  - [ 0x800315B0, bzero ]
  - [ 0x80031E20, osCreateThread ]
  - [ 0x800321D0, osWritebackDCache ]
  - [ 0x80032250, osInitialize ]
  - [ 0x800325B0, osPiRawReadIo ]
  - [ 0x80032670, __osSetSR ]
  - [ 0x80032680, __osGetSR ]
  - [ 0x800328D0, __osSiRawReadIo ]
  - [ 0x800344B0, osInvalICache ]
  - [ 0x80034610, __osSiDeviceBusy ]
  - [ 0x80035820, __osDisableInt ]
  - [ 0x80035840, __osRestoreInt ]
  - [ 0x80036140, __osSetFpcCsr ]
  - [ 0x800362B0, osMapTLBRdb ]
  - [ 0x80038CE0, __osSpRawWriteIo ]
  - [ 0x80039190, osStartThread ]
  - [ 0x800396B0, set_cop0_watchlo ]
  - [ 0x80023338, start_thread8 ]
  - [ 0x80031570, __osDequeueThread ]
  - [ 0x80034480, osCreateMesgQueue ]
  - [ 0x80034790, osSetThreadPri ]
  - [ 0x80000480, check_sp_imem ]
  - [ 0x800004B0, check_sp_dmem ]
  - [ 0x80002A60, ssb_create_dma_mq ]
  - [ 0x80002A90, ssb_data_dma ]
  - [ 0x80002BE4, load_overlay ]
  - [ 0x80002CA0, ssb_rom_copy_no_writeback ]
  - [ 0x80002D14, maybe_setup_pi_handle ]
  - [ 0x80030000, osSendMesg ]
  - [ 0x80030210, osRecvMesg ]
  - [ 0x80032150, osVirtualToPhysical ]
  - [ 0x80032C20, __osProbeTLB ]
  - [ 0x80032CE0, osCreatePiManager ]
  - [ 0x80032E50, __osPiCreateAccessQueue ]
  - [ 0x80032EA0, __osPiGetAccess ]
  - [ 0x800334A0, osSetEventMesg ]
  - [ 0x80034300, osEPiStartDma ]
  - [ 0x80034530, osInvalDCache ]
  - [ 0x80034640, osJamMesg ]
  - [ 0x80034870, osGetThreadPri ]
  - [ 0x80034DE0, __osTimerServicesInit ]
  - [ 0x80035CA0, osPiGetCmdQueue ]
  - [ 0x80035EE0, osCartRomInit ]
  - [ 0x80038E40, osCreateViManager ]
  - [ 0x80030350, osSetIntMask ]
  - [ 0x800326D0, __osSpRawStartDma ]
  - [ 0x80032860, osViBlack ]
  - [ 0x80032BB0, osViSetMode ]
  - [ 0x80033490, osGetCount ]
  - [ 0x80033540, osContStartQuery ]
  - [ 0x800335C4, osContGetQuery ]
  - [ 0x80034434, strchr ]
  - [ 0x800345E0, __osSpDeviceBusy ]
  - [ 0x80034890, osViSwapBuffer ]
  - [ 0x80034CD0, osSpTaskYieled ]
  - [ 0x80034D50, osGetTime ]
  - [ 0x800351E0, __osSetGlobalIntMask ]
  - [ 0x80035410, __osSetCompare ]
  - [ 0x80035430, bcopy ]
  - [ 0x80035740, alCopy ]
  - [ 0x800357C0, __osResetGlobalIntMask ]
  - [ 0x80035E40, osSetTime ]
  - [ 0x80035E70, osViSetEvent ]
  - [ 0x80036310, osYieldThread ]
  - [ 0x80038D30, osDpSetNextBuffer ]
  - [ 0x80038DE0, __osDpDeviceBusy ]
  - [ 0x80038E10, __osSpSetStatus ]
  - [ 0x80038E20, __osSpGetStatus ]
  - [ 0x80039160, osWritebackDCacheAll ]
  - [ 0x80039600, __osAiDeviceBusy ]
  - [ 0x80039670, __osSpSetPc ]
  - [ 0x800309DC, __ull_rem ]
  - [ 0x80030ABC, __ll_div ]
  - [ 0x80032920, osSpTaskYield ]
  - [ 0x800343E0, memcpy ]
  - [ 0x8003440C, strlen ]
  - [ 0x80038A40, _Litob ]
  - [ 0x800392E0, osViSetYScale ]
  - [ 0x800303F0, sinf ]
  - [ 0x80036360, alCents2Ratio ]
  - [ 0x80000400, entry ]
  - [ 0x80000870, ssb_main ]
  - [ 0x800007C8, thread1_idle ]
  - [ 0x800005D8, thread5_main ]
  - [ 0x80023870, spSetAttribute ]
  - [ 0x80025EF0, spClearAttribute ]
  - [ 0x80025F50, spScale ]
  - [ 0x80030150, osStopThread ]
  - [ 0x80023190, thread8_crash_debugger ]
  - [ 0x800309B0, __ull_rshift ]
  - [ 0x80030A54, __ll_lshift ]
  - [ 0x80030A80, __ll_rem ]
  - [ 0x80030B48, __ull_divremi ]
  - [ 0x80030BA8, __ll_mod ]
  - [ 0x80030C44, __ll_rshift ]
  - [ 0x800333B0, osPiRawStartDma ]
  - [ 0x80033510, sqrtf ]
  - [ 0x800348E0, guMtxXFMF ]
  - [ 0x80034980, guMtxCatF ]
  - [ 0x80035380, guNormalize ]
  - [ 0x80035CD0, cosf ]
  - [ 0x80039340, __d_to_ll ]
  - [ 0x8003935C, __f_to_ll ]
  - [ 0x80039378, __d_to_ull ]
  - [ 0x80039418, __f_to_ull ]
  - [ 0x800394B4, __ll_to_d ]
  - [ 0x800394CC, __ll_to_f ]
  - [ 0x800394E4, __ull_to_d ]
  - [ 0x80039518, __ull_to_f ]
  - [ 0x80002518, thread3_scheduler ]
  - [ 0x80002CDC, ssb_rom_copy_writeback ]
  - [ 0x8001FF64, thread4 ]
  - [ 0x80004770, thread6 ]
  - [ 0x80023004, set_debug_fn ]
  - [ 0x800235D0, start_new_debug_thread ]
  - [ 0x800A1980, load_overlay_set ]
  - [ 0x800A2E84, maybe_print_info_debug ]
  - [ 0x800233A4, fileloader_thread8_crash ]
  - [ 0x800d6604, n64_logo_entry, ovl11 ]
  - [ 0x801340b8, title_screen_entry, ovl10 ]
  - [ 0x800d6620, debug_sss_entry, ovl12 ]
  - [ 0x8013214c, debug_system_entry, ovl13 ]
  - [ 0x80132638, debug_battle_entry, ovl14 ]
  - [ 0x800d6688, debug_falls_entry, ovl15 ]
  - [ 0x800d6fb0, debug_button_test_entry, ovl16 ]
  - [ 0x80132b34, menu_main_entry, ovl17 ]
  - [ 0x80133020, menu_1p_entry, ovl18 ]
  - [ 0x80134758, menu_vs_entry, ovl19 ]
  - [ 0x80134668, options_vs_entry, ovl20 ]
  - [ 0x801331b0, overlay_set11_entry, ovl21 ]
  - [ 0x801323f8, overlay_set12_entry, ovl22 ]
  - [ 0x80132310, overlay_set13_entry, ovl23 ]
  - [ 0x80134d98, classic_map_entry, ovl24 ]
  - [ 0x801327d8, screen_adjust_entry, ovl25 ]
  - [ 0x8013b33c, vs_css_entry, ovl26 ]
  - [ 0x80138558, classic_css_entry, ovl27 ]
  - [ 0x80137f00, training_css_entry, ovl28 ]
  - [ 0x80136ef4, bonus_css_entry, ovl29 ]
  - [ 0x8013446c, stage_select_entry, ovl30 ]
  - [ 0x8018e190, vs_battle_entry, ovl4 ]
  - [ 0x8018d508, overlay_set23_entry, ovl5 ]
  - [ 0x80138e64, vs_results_entry, ovl31 ]
  - [ 0x801365d0, vs_records_entry, ovl32 ]
  - [ 0x80134050, char_bkg_info_entry, ovl33 ]
  - [ 0x80131ef0, overlay_set27_entry, ovl58 ]
  - [ 0x801349bc, intro_firstscene_entry, ovl34 ]
  - [ 0x8013283c, intro_portrait_wipes_entry, ovl35 ]
  - [ 0x8018e030, intro_focus_mario_entry, ovl36 ]
  - [ 0x8018e018, intro_focus_dk_entry, ovl37 ]
  - [ 0x8018e0c8, intro_focus_samus_entry, ovl38 ]
  - [ 0x8018e02c, intro_focus_fox_entry, ovl39 ]
  - [ 0x8018e018, intro_focus_link_entry, ovl40 ]
  - [ 0x8018e05c, intro_focus_yoshi_entry, ovl41 ]
  - [ 0x8018e05c, intro_focus_pikachu_entry, ovl42 ]
  - [ 0x8018e058, intro_focus_kirby_entry, ovl43 ]
  - [ 0x8013256c, intro_chars_running_entry, ovl44 ]
  - [ 0x801322cc, intro_yoshi_nest_entry, ovl45 ]
  - [ 0x80132674, intro_link_hill_entry, ovl46 ]
  - [ 0x8013286c, intro_mario_vs_kirby_entry, ovl47 ]
  - [ 0x80132344, intro_pika_pokeball_entry, ovl48 ]
  - [ 0x80132874, intro_sex_kicks_entry, ovl49 ]
  - [ 0x80132898, intro_great_fox_entry, ovl50 ]
  - [ 0x8018d818, intro_dk_vs_samus_entry, ovl51 ]
  - [ 0x801325e0, intro_hidden_chars_entry, ovl52 ]
  - [ 0x80132e28, menu_backup_clear_entry, ovl53 ]
  - [ 0x80132a78, overlay_set48_entry, ovl54 ]
  - [ 0x801340fc, overlay_set49_entry, ovl55 ]
  - [ 0x80134e84, overlay_set50_51_entry, ovl56 ]
  #- [ 0x800d67dc, invalid_overlay_set52_entry ]
  - [ 0x8018eacc, bonus_game_play_entry, ovl6 ]
  - [ 0x801905f4, training_mode_battle_entry, ovl7 ]
  - [ 0x8013200c, overlay_set55_entry, ovl57 ]
  - [ 0x801351b8, overlay_set56_entry, ovl59 ]
  - [ 0x801335c0, menu_options_entry, ovl60 ]
  - [ 0x80132ec0, menu_data_entry, ovl61 ]
  - [ 0x80133988, overlay_set59_entry, ovl62 ]
  - [ 0x8018e5c0, how_to_play_entry, ovl63 ]
  - [ 0x8018e014, demo_battle_entry, ovl64 ]
  - [ 0x80190FD8, overlay_set62_entry, ovl65 ]
